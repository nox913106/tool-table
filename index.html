<!DOCTYPE html>
<html lang="zh-TW" data-theme="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ç¶²è·¯ç®¡ç†å·¥å…·</title>
  <link rel="icon" href="Max-Tool/resource/icon/max-signup.png" type="image/png">
  <style>
    :root {
      /* --- æ ¸å¿ƒè¨­å®š --- */
      --sidebar-width: 280px;
      --transition-speed: 0.4s;

      /* --- æš—è‰²æ¨¡å¼ (é è¨­ Deep Ocean) --- */
      --bg-body: #0f172a;
      --glass-surface: rgba(255, 255, 255, 0.05);
      --glass-header: rgba(15, 23, 42, 0.6);
      --glass-sidebar: rgba(255, 255, 255, 0.03);
      --glass-highlight: rgba(255, 255, 255, 0.15);
      --glass-border: rgba(255, 255, 255, 0.2);
      --glass-border-hover: rgba(255, 255, 255, 0.5);
      --text-main: #ffffff;
      --text-secondary: #94a3b8;
      --accent-glow: rgba(56, 189, 248, 0.5); /* Cyan glow */
      --card-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
      --scrollbar-thumb: rgba(255, 255, 255, 0.2);
      
      /* èƒŒæ™¯æµå‹•å…‰æ–‘é¡è‰² */
      --blob-1: rgba(76, 29, 149, 0.4);
      --blob-2: rgba(14, 165, 233, 0.2);
      --blob-3: rgba(236, 72, 153, 0.2);
    }

    [data-theme="light"] {
      /* --- äº®è‰²æ¨¡å¼ (Milky Glass / Frost) --- */
      --bg-body: #eef2f6;
      --glass-surface: rgba(255, 255, 255, 0.65); /* æ›´ä¸é€æ˜çš„ä¹³ç™½ç»ç’ƒ */
      --glass-header: rgba(255, 255, 255, 0.7);
      --glass-sidebar: rgba(255, 255, 255, 0.5);
      --glass-highlight: rgba(255, 255, 255, 0.9);
      --glass-border: rgba(255, 255, 255, 0.8);
      --glass-border-hover: #0ea5e9; /* äº®è—è‰²é‚Šæ¡† */
      --text-main: #1e293b; /* æ·±ç°è—å­— */
      --text-secondary: #475569;
      --accent-glow: rgba(14, 165, 233, 0.25);
      --card-shadow: 0 8px 25px rgba(148, 163, 184, 0.25); /* æŸ”å’Œé™°å½± */
      --scrollbar-thumb: rgba(0, 0, 0, 0.2);

      /* äº®è‰²èƒŒæ™¯å…‰æ–‘ (æŸ”å’Œç²‰å½©) */
      --blob-1: rgba(167, 139, 250, 0.4); /* Purple */
      --blob-2: rgba(56, 189, 248, 0.4);  /* Blue */
      --blob-3: rgba(244, 114, 182, 0.4); /* Pink */
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Segoe UI', Tahoma, sans-serif;
      background-color: var(--bg-body);
      color: var(--text-main);
      display: flex;
      flex-direction: column;
      height: 100vh;
      overflow: hidden;
      position: relative;
      transition: background-color var(--transition-speed), color var(--transition-speed);
    }

    /* --- å‹•æ…‹æµé«”èƒŒæ™¯ --- */
    body::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle at 50% 50%, 
        var(--blob-1), 
        var(--blob-2), 
        var(--blob-3), 
        transparent 70%);
      background-size: 100% 100%;
      animation: liquidFlow 20s ease-in-out infinite alternate;
      z-index: -1;
      pointer-events: none;
      transition: background 1s ease; /* èƒŒæ™¯é¡è‰²åˆ‡æ›æ™‚çš„éæ¸¡ */
    }
    
    @keyframes liquidFlow {
      0% { transform: translate(0, 0) rotate(0deg); }
      50% { transform: translate(-5%, 5%) rotate(5deg); }
      100% { transform: translate(5%, -5%) rotate(-5deg); }
    }

    /* è‡ªè¨‚æ»¾å‹•æ¢ */
    ::-webkit-scrollbar { width: 6px; height: 6px; }
    ::-webkit-scrollbar-track { background: transparent; }
    ::-webkit-scrollbar-thumb { background: var(--scrollbar-thumb); border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: rgba(128, 128, 128, 0.5); }

    /* --- Header --- */
    header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 15px;
      background: var(--glass-header);
      backdrop-filter: blur(20px) saturate(180%);
      -webkit-backdrop-filter: blur(20px) saturate(180%);
      border-bottom: 1px solid var(--glass-border);
      flex-wrap: wrap;
      z-index: 20;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.05);
      position: relative;
      transition: background 0.4s, border-color 0.4s;
    }

    iframe.clock-embed,
    iframe.ip-embed {
      background: transparent !important;
      transition: filter 0.4s;
    }
    /* äº®è‰²æ¨¡å¼ä¸‹ï¼Œåè½‰ iframe é¡è‰² (å‡è¨­åŸæœ¬æ˜¯ç™½è‰²æ–‡å­—ï¼Œåè½‰è®Šé»‘è‰²) */
    [data-theme="light"] iframe.clock-embed {
      filter: invert(0.85) hue-rotate(180deg);
    }

    header iframe {
      border: none;
      margin: 0 10px;
      border-radius: 12px;
      box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    }
    iframe.clock-embed { width: 100%; max-width: 1000px; height: 100px; }
    iframe.ip-embed    { width: 200px; height: 60px; }

    /* --- Theme Toggle Button --- */
    .theme-btn {
      position: absolute;
      right: 20px;
      top: 50%;
      transform: translateY(-50%);
      background: var(--glass-surface);
      border: 1px solid var(--glass-border);
      color: var(--text-main);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 1.2rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      z-index: 50;
    }
    .theme-btn:hover {
      background: var(--glass-highlight);
      transform: translateY(-50%) scale(1.1);
      box-shadow: 0 0 15px var(--accent-glow);
    }

    /* Container Layout */
    .container {
      display: flex;
      flex: 1;
      overflow: hidden;
      position: relative;
    }

    /* --- Sidebar --- */
    .sidebar {
      width: var(--sidebar-width);
      background: var(--glass-sidebar);
      backdrop-filter: blur(25px) saturate(150%);
      -webkit-backdrop-filter: blur(25px) saturate(150%);
      border-right: 1px solid var(--glass-border);
      padding: 20px;
      overflow-y: auto;
      flex-shrink: 0;
      transition: transform 0.4s cubic-bezier(0.25, 0.8, 0.25, 1), background 0.4s, border-color 0.4s;
      z-index: 30;
      box-shadow: 5px 0 30px rgba(0,0,0,0.05);
    }
    
    .menu-toggle {
      display: none;
      position: absolute;
      top: 15px;
      left: 15px;
      z-index: 40;
      background: var(--glass-surface);
      backdrop-filter: blur(10px);
      border: 1px solid var(--glass-border);
      color: var(--text-main);
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
    }

    .sidebar details { margin-bottom: 5px; }
    .sidebar details summary {
      cursor: pointer;
      padding: 12px 15px;
      border-radius: 12px;
      transition: all 0.3s ease;
      color: var(--text-secondary);
      font-weight: 500;
      list-style: none;
      position: relative;
      overflow: hidden;
    }
    .sidebar details summary::-webkit-details-marker { display: none; }
    
    .sidebar details summary:hover {
      color: var(--text-main);
      background: var(--glass-highlight);
      box-shadow: 0 4px 15px rgba(0,0,0,0.05);
      border: 1px solid var(--glass-border-hover);
    }

    .sidebar summary.active {
      background: linear-gradient(90deg, var(--accent-glow), transparent);
      color: var(--text-main);
      border-left: 3px solid #38bdf8;
      padding-left: 12px;
    }

    .sidebar details details { 
      padding-left: 12px; 
      border-left: 1px solid var(--glass-border); 
      margin-left: 8px; 
    }

    /* --- Search & Filter --- */
    .search-block { margin-bottom: 25px; }
    .search-block h3 { 
      margin-bottom: 10px; 
      font-size: 0.9em; 
      text-transform: uppercase; 
      letter-spacing: 1px; 
      color: var(--text-secondary); 
    }
    .search-block input {
      width: 100%;
      padding: 10px 15px;
      border: 1px solid var(--glass-border);
      border-radius: 10px;
      background: var(--glass-surface);
      color: var(--text-main);
      backdrop-filter: blur(5px);
      outline: none;
      transition: 0.3s;
      box-shadow: inset 0 2px 5px rgba(0,0,0,0.1);
    }
    .search-block input:focus {
      border-color: #38bdf8;
      box-shadow: 0 0 15px var(--accent-glow);
    }

    .icon-filter-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 10px; padding: 0; }
    .icon-filter-list .filter-item {
      padding: 6px 12px;
      background: var(--glass-surface);
      border: 1px solid transparent;
      border-radius: 20px;
      cursor: pointer;
      font-size: 0.9em;
      color: var(--text-secondary);
      transition: 0.3s;
    }
    .icon-filter-list .filter-item:hover {
      background: var(--glass-highlight);
      color: var(--text-main);
      border-color: #38bdf8;
      transform: translateY(-2px);
    }

    /* Content Area */
    .content {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
      position: relative;
    }

    #loading-spinner {
      display: none;
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      z-index: 50;
      text-align: center;
      color: var(--text-secondary); 
      letter-spacing: 2px; 
      font-size: 0.9rem;
    }
    .spinner {
      width: 50px; height: 50px;
      border: 3px solid transparent;
      border-top: 3px solid #38bdf8;
      border-right: 3px solid #a855f7;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      box-shadow: 0 0 15px var(--accent-glow);
      margin: 0 auto 15px auto;
    }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

    /* --- Auth Grid --- */
    #access-auth {
      margin-bottom: 30px;
      padding: 20px;
      background: var(--glass-surface);
      backdrop-filter: blur(15px);
      border-radius: 20px;
      border: 1px solid var(--glass-border);
      box-shadow: var(--card-shadow);
      transition: background 0.4s, border-color 0.4s;
    }
    #access-auth h2 { 
      margin-bottom: 15px; 
      font-size: 1.1em; 
      text-align: left; 
      border-bottom: 1px solid var(--glass-border); 
      padding-bottom: 10px;
      display: flex;
      align-items: center;
    }
    #access-auth h2::before { content: 'ğŸ”'; margin-right: 10px; font-size: 0.8em; }

    .auth-grid { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 10px; }
    .auth-grid .grid-item {
      min-width: 140px;
      height: 45px;
      background: linear-gradient(145deg, var(--glass-surface), rgba(255,255,255,0.01));
      border: 1px solid var(--glass-border);
      border-radius: 30px;
      color: var(--text-main);
      transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .auth-grid .grid-item a { text-decoration: none; color: inherit; width: 100%; text-align: center; }
    
    .auth-grid .grid-item::after {
        content: '';
        position: absolute;
        top: 0; left: -100%;
        width: 50%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
        transform: skewX(-25deg);
        transition: 0.5s;
    }
    .auth-grid .grid-item:hover::after { left: 150%; transition: 0.7s; }
    .auth-grid .grid-item:hover {
      border-color: var(--glass-border-hover);
      box-shadow: 0 0 15px var(--accent-glow);
      transform: translateY(-3px);
    }

    /* --- Main Grid --- */
    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 25px;
    }
    .grid-item-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--glass-surface) 0%, rgba(255, 255, 255, 0.01) 100%);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border: 1px solid var(--glass-border);
      border-top: 1px solid rgba(255, 255, 255, 0.4);
      border-left: 1px solid rgba(255, 255, 255, 0.4);
      
      border-radius: 20px;
      padding: 25px;
      text-align: center;
      color: var(--text-main);
      box-shadow: var(--card-shadow);
      transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
      position: relative;
      animation: fadeIn .6s ease-out both;
      cursor: pointer;
    }
    
    .grid-item-card:hover {
      transform: translateY(-10px) scale(1.02);
      background: linear-gradient(135deg, var(--glass-highlight) 0%, var(--glass-surface) 100%);
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.15), 
                  0 0 20px var(--accent-glow);
      border-color: var(--glass-border-hover);
      z-index: 2;
    }
    .grid-item-card img {
      width: 56px;
      height: 56px;
      object-fit: contain;
      margin-bottom: 15px;
      filter: drop-shadow(0 5px 5px rgba(0,0,0,0.3));
      transition: transform 0.3s;
    }
    .grid-item-card:hover img { transform: scale(1.1) rotate(5deg); }
    
    .grid-item-card .card-title {
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Floating Back Button */
    #back-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      width: 50px;
      height: 50px;
      background: var(--glass-surface);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      border-radius: 50%;
      display: none; 
      align-items: center;
      justify-content: center;
      color: var(--text-main);
      font-size: 24px;
      cursor: pointer;
      transition: all .3s;
      z-index: 999;
    }
    #back-button:hover {
      transform: scale(1.15) rotate(-90deg);
      background: var(--glass-highlight);
      box-shadow: 0 0 20px var(--accent-glow);
    }

    /* Mobile Overlay */
    .sidebar-overlay {
      display: none;
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.6);
      z-index: 25;
      backdrop-filter: blur(4px);
    }

    /* RWD: Mobile & Tablet */
    @media (max-width: 768px) {
      header { flex-direction: column; padding: 10px; padding-top: 50px; /* Space for toggle btn */ }
      /* æŠŠåˆ‡æ›æŒ‰éˆ•æ”¾åˆ°å³ä¸Šè§’å›ºå®šä½ç½®ï¼Œé¿å…è·Ÿ header column è¡çª */
      .theme-btn {
        top: 15px;
        right: 15px;
        transform: none;
      }
      .theme-btn:hover { transform: scale(1.1); }

      header iframe { margin: 5px 0; }
      iframe.clock-embed { height: 120px; }
      
      .menu-toggle { display: block; }

      .sidebar {
        position: absolute;
        left: calc(-1 * var(--sidebar-width));
        top: 0;
        height: 100%;
        box-shadow: 10px 0 30px rgba(0,0,0,0.5);
        background: var(--glass-header); /* Solid feel on mobile */
      }
      .sidebar.open { transform: translateX(var(--sidebar-width)); }
      
      .sidebar-overlay.active { display: block; }
      
      .content { padding: 15px; padding-top: 60px; }
      
      .grid-container { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; }
      .grid-item-card { padding: 15px; min-height: 140px; }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px) scale(0.9); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
  <script src="performance-mode.js" defer></script>
</head>
<body>
  <header>
    <!-- Theme Toggle Button -->
    <button id="theme-toggle" class="theme-btn" title="åˆ‡æ›äº®/æš—è‰²æ¨¡å¼">
      ğŸŒ™
    </button>

    <iframe class="clock-embed" src="https://nox913106.github.io/clock-widget/" scrolling="no" allowtransparency="true"></iframe>
  </header>

  <div class="container">
    <!-- Mobile Menu Button -->
    <button class="menu-toggle" id="menu-toggle">â˜° é¸å–®</button>
    <!-- Mobile Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <aside class="sidebar" id="sidebar">
      <!-- æœå°‹ -->
      <div class="search-block">
        <h3>Search</h3>
        <input type="text" id="search-input" placeholder="æœå°‹æœå‹™..." autocomplete="off"/>
      </div>

      <!-- å¿«é€Ÿç¯©é¸ -->
      <details>
        <summary>å¿«é€Ÿç¯©é¸</summary>
        <ul class="icon-filter-list">
          <li class="filter-item" data-icon="fortinet-icon.png">Fortinet</li>
          <li class="filter-item" data-icon="graylog-icon.svg">Graylog</li>
          <li class="filter-item" data-icon="ruckus-icon.png">Ruckus</li>
          <li class="filter-item" data-icon="librenms-icon.jpg">LibreNMS</li>
          <li class="filter-item" data-icon="nas-icon.webp">Synology Drive</li>
        </ul>
      </details>

      <!-- å´é‚Šæ¬„çµæ§‹ -->
      <details>
        <summary data-file="1.yaml">1. é›†åœ˜æœå‹™ PCG Service</summary>
        <details><summary data-file="1-1.yaml">1-1. å¸¸ç”¨æœå‹™</summary></details>
      </details>

      <details>
        <summary data-file="2.yaml">2. è·³æ¿ä¸»æ©Ÿ Jumpserver</summary>
        <details><summary data-file="2-1.yaml">2-1. è‡ºç£å€</summary></details>
        <details><summary data-file="2-2.yaml">2-2. å¤§é™¸å€</summary></details>
        <details><summary data-file="2-3.yaml">2-3. è¶Šå—å€</summary></details>
        <details><summary data-file="2-4.yaml">2-4. å°å°¼å€</summary></details>
        <details><summary data-file="2-5.yaml">2-5. å°åº¦å€</summary></details>
      </details>

      <details>
        <summary data-file="3.yaml">3. ç¶­é‹å·¥å…· NetOps Tools</summary>
        <details>
          <summary data-file="3-1.yaml">3-1. é›²ç«¯ Cloud</summary>
          <details>
            <summary data-file="3-1-1.yaml">3-1-1. ç¶­é‹å·¥å…·</summary>
            <details><summary data-file="3-1-1-1.yaml">3-1-1-1. Azure</summary></details>
            <details><summary data-file="3-1-1-2.yaml">3-1-1-2. AWS</summary></details>
          </details>
          <details><summary data-file="3-1-2.yaml">3-1-2. ç¶­ä¿å¾Œå°</summary></details>
          <details><summary data-file="3-1-3.yaml">3-1-3. ç¶­é‹æ–‡ä»¶</summary></details>
        </details>
        <details>
          <summary data-file="3-2.yaml">3-2. è‡ºç£å€ Taiwan</summary>
          <details>
            <summary data-file="3-2-1.yaml">3-2-1. ç¶­é‹å·¥å…·</summary>
            <details><summary data-file="3-2-1-1.yaml">3-2-1-1. å½°åŒ–</summary></details>
            <details><summary data-file="3-2-1-2.yaml">3-2-1-2. å°ä¸­</summary></details>
            <details><summary data-file="3-2-1-3.yaml">3-2-1-3. å°åŒ—</summary></details>
          </details>
          <details><summary data-file="3-2-2.yaml">3-2-2. ç¶­ä¿å¾Œå°</summary></details>
          <details><summary data-file="3-2-3.yaml">3-2-3. ç¶­é‹æ–‡ä»¶</summary></details>
        </details>
        <details>
          <summary data-file="3-3.yaml">3-3. å¤§é™¸å€ China</summary>
          <details>
            <summary data-file="3-3-1.yaml">3-3-1. ç¶­é‹å·¥å…·</summary>
            <details><summary data-file="3-3-1-1.yaml">3-3-1-1. è¯å—</summary></details>
            <details><summary data-file="3-3-1-2.yaml">3-3-1-2. è¯æ±</summary></details>
            <details><summary data-file="3-3-1-3.yaml">3-3-1-3. OTHER</summary></details>
          </details>
          <details><summary data-file="3-3-2.yaml">3-3-2. ç¶­ä¿å¾Œå°</summary></details>
          <details><summary data-file="3-3-3.yaml">3-3-3. ç¶­é‹æ–‡ä»¶</summary></details>
        </details>
        <details>
          <summary data-file="3-4.yaml">3-4. è¶Šå—å€ Viet Nam</summary>
          <details>
            <summary data-file="3-4-1.yaml">3-4-1. ç¶­é‹å·¥å…·</summary>
            <details><summary data-file="3-4-1-1.yaml">3-4-1-1. å¹³æ”¿</summary></details>
            <details><summary data-file="3-4-1-2.yaml">3-4-1-2. å¯¶å´§</summary></details>
            <details><summary data-file="3-4-1-3.yaml">3-4-1-3. OTHER</summary></details>
          </details>
          <details><summary data-file="3-4-2.yaml">3-4-2. ç¶­ä¿å¾Œå°</summary></details>
          <details><summary data-file="3-4-3.yaml">3-4-3. ç¶­é‹æ–‡ä»¶</summary></details>
        </details>
        <details>
          <summary data-file="3-5.yaml">3-5. å°å°¼å€ Indonesia</summary>
          <details>
            <summary data-file="3-5-1.yaml">3-5-1. ç¶­é‹å·¥å…·</summary>
            <details><summary data-file="3-5-1-1.yaml">3-5-1-1. PCIå±±ä¸‹</summary></details>
            <details><summary data-file="3-5-1-2.yaml">3-5-1-2. GSIå±±ä¸Š</summary></details>
            <details><summary data-file="3-5-1-3.yaml">3-5-1-3. OTHER</summary></details>
          </details>
          <details><summary data-file="3-5-2.yaml">3-5-2. ç¶­ä¿å¾Œå°</summary></details>
          <details><summary data-file="3-5-3.yaml">3-5-3. ç¶­é‹æ–‡ä»¶</summary></details>
        </details>
        <details>
          <summary data-file="3-6.yaml">3-6. å°åº¦å€ India</summary>
          <details><summary data-file="3-6-1.yaml">3-6-1. ç¶­é‹å·¥å…·</summary></details>
          <details><summary data-file="3-6-2.yaml">3-6-2. ç¶­ä¿å¾Œå°</summary></details>
          <details><summary data-file="3-6-3.yaml">3-6-3. ç¶­é‹æ–‡ä»¶</summary></details>
        </details>
      </details>

      <details>
        <summary data-file="4.yaml">4. ç·šä¸Šå·¥å…·</summary>
        <details><summary data-file="4-1.yaml">4-1. ç¶²è·¯</summary></details>
        <details><summary data-file="4-2.yaml">4-2. å®‰å…¨</summary></details>
        <details><summary data-file="4-3.yaml">4-3. æ–‡æ›¸</summary></details>
        <details><summary data-file="4-4.yaml">4-4. ç”Ÿæˆå¼AI</summary></details>
      </details>
    </aside>

    <main class="content">
      <!-- Loading Spinner -->
      <div id="loading-spinner">
        <div class="spinner"></div>
        <div>è®€å–ä¸­...</div>
      </div>

      <div id="access-auth">
        <h2>ä¸Šç¶²é©—è­‰</h2>
        <div class="auth-grid" id="auth-grid"></div>
      </div>
      <div class="grid-container" id="grid"></div>
      <button id="back-button" title="è¿”å›ä¸Šä¸€å±¤">â†</button>
    </main>
  </div>

  <script>
    let historyStack = [];

    // DOM Elements
    const grid = document.getElementById('grid');
    const loadingSpinner = document.getElementById('loading-spinner');
    const backButton = document.getElementById('back-button');
    const sidebar = document.getElementById('sidebar');
    const menuToggle = document.getElementById('menu-toggle');
    const sidebarOverlay = document.getElementById('sidebar-overlay');
    const themeToggle = document.getElementById('theme-toggle');
    const htmlElement = document.documentElement;

    document.addEventListener('DOMContentLoaded', () => {
      // --- Theme Logic ---
      const savedTheme = localStorage.getItem('theme') || 'dark';
      setTheme(savedTheme);

      themeToggle.addEventListener('click', () => {
        const current = htmlElement.getAttribute('data-theme');
        const next = current === 'dark' ? 'light' : 'dark';
        setTheme(next);
      });

      function setTheme(theme) {
        htmlElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        // Update icon
        themeToggle.textContent = theme === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }

      // --- Mobile Menu ---
      menuToggle.addEventListener('click', toggleSidebar);
      sidebarOverlay.addEventListener('click', closeSidebar);

      // --- Search ---
      document.getElementById('search-input').addEventListener('input', async (e) => {
        const kw = e.target.value.trim().toLowerCase();
        closeAllDetails();
        clearActiveState();
        if (kw) {
          await searchByName(kw);
        } else {
          grid.innerHTML = '';
          historyStack = [];
          updateBackButton();
        }
        closeSidebar();
      });

      // --- Quick Filter ---
      document.querySelectorAll('.filter-item').forEach(el => {
        el.addEventListener('click', async () => {
          closeAllDetails();
          clearActiveState();
          await filterByIcon(el.dataset.icon);
          closeSidebar();
        });
      });

      // --- Sidebar Navigation ---
      document.querySelectorAll('.sidebar summary[data-file]').forEach(el => {
        el.addEventListener('click', e => {
          e.stopPropagation();
          clearActiveState();
          el.classList.add('active');

          closeAllDetails();
          let p = el.parentElement;
          while (p && p.tagName === 'DETAILS') {
            p.open = true;
            p = p.parentElement;
          }

          loadAndRender(el.dataset.file);
          closeSidebar();
        });
      });

      // --- Back Button ---
      backButton.addEventListener('click', () => {
        if (historyStack.length > 1) {
          historyStack.pop();
          const prev = historyStack[historyStack.length - 1];
          loadAndRender(prev, false);
        }
      });

      // --- Init Data ---
      loadAccessAuth();
    });

    // --- UI Helpers ---

    function toggleSidebar() {
      sidebar.classList.toggle('open');
      sidebarOverlay.classList.toggle('active');
    }

    function closeSidebar() {
      sidebar.classList.remove('open');
      sidebarOverlay.classList.remove('active');
    }

    function showLoading(show) {
      loadingSpinner.style.display = show ? 'block' : 'none';
      if(show) grid.style.opacity = '0.5';
      else grid.style.opacity = '1';
    }

    function closeAllDetails() {
      document.querySelectorAll('.sidebar details').forEach(d => d.open = false);
    }

    function clearActiveState() {
      document.querySelectorAll('.sidebar summary').forEach(s => s.classList.remove('active'));
    }

    function updateBackButton() {
      backButton.style.display = historyStack.length > 1 ? 'flex' : 'none';
    }

    // --- Data Logic ---

    async function gatherItemsFromFile(file) {
      try {
        const res = await fetch(`resource/${file}`);
        if (!res.ok) throw new Error(`File not found: ${file}`);
        const txt = await res.text();
        const doc = jsyaml.load(txt);
        let items = [];
        if (doc && doc.items) {
            for (const item of doc.items) {
            if (item.icon || item.url || item.file) items.push(item);
            if (item.file) items = items.concat(await gatherItemsFromFile(item.file));
            }
        }
        return items;
      } catch (e) {
        console.warn(e);
        return [];
      }
    }

    async function searchByName(keyword) {
      showLoading(true);
      try {
        const roots = ['1.yaml','2.yaml','3.yaml','4.yaml'];
        const results = await Promise.all(roots.map(r => gatherItemsFromFile(r)));
        let all = results.flat();
        
        const filtered = all.filter(it => it.name && it.name.toLowerCase().includes(keyword));
        renderGrid(filtered);
        historyStack = [];
        updateBackButton();
      } finally {
        showLoading(false);
      }
    }

    async function filterByIcon(icon) {
      showLoading(true);
      try {
        const roots = ['1.yaml','2.yaml','3.yaml','4.yaml'];
        const results = await Promise.all(roots.map(r => gatherItemsFromFile(r)));
        let all = results.flat();
        
        const filtered = all.filter(it => it.icon === icon);
        renderGrid(filtered);
        historyStack = [];
        updateBackButton();
      } finally {
        showLoading(false);
      }
    }

    function loadAndRender(yamlFile, push = true) {
      if (push) historyStack.push(yamlFile);
      updateBackButton();
      showLoading(true);
      
      fetch(`resource/${yamlFile}`)
        .then(r => {
            if(!r.ok) throw new Error('Network response was not ok');
            return r.text();
        })
        .then(txt => {
            const data = jsyaml.load(txt);
            renderGrid(data.items || []);
        })
        .catch(err => {
            console.error('Fetch error:', err);
            grid.innerHTML = `<div style="color: #ff6b6b; grid-column: 1/-1;">è®€å–å¤±æ•—: ${err.message}</div>`;
        })
        .finally(() => showLoading(false));
    }

    function renderGrid(items) {
      grid.innerHTML = '';
      if (!items || items.length === 0) {
          grid.innerHTML = '<div style="grid-column: 1/-1; text-align: center; opacity: 0.7;">æ²’æœ‰æ‰¾åˆ°ç›¸é—œé …ç›®</div>';
          return;
      }
      
      const fragment = document.createDocumentFragment();
      
      items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'grid-item-card';
        
        if (item.icon) {
          const img = document.createElement('img');
          img.src = `resource/icon/${item.icon}`;
          img.alt = item.name;
          img.onerror = function() { this.style.display = 'none'; };
          card.appendChild(img);
        }
        
        const name = document.createElement('div');
        name.className = 'card-title';
        name.textContent = item.name;
        card.appendChild(name);
        
        if (item.file) {
          card.addEventListener('click', () => {
              loadAndRender(item.file);
          });
        } else if (item.url) {
          card.addEventListener('click', () => window.open(item.url, '_blank'));
        }
        fragment.appendChild(card);
      });
      
      grid.appendChild(fragment);
    }

    function loadAccessAuth() {
      fetch('resource/AccessInternetAuth.yaml')
        .then(r => r.text())
        .then(txt => {
          const doc = jsyaml.load(txt);
          const authGrid = document.getElementById('auth-grid');
          authGrid.innerHTML = '';
          
          const fragment = document.createDocumentFragment();
          
          doc.sections.forEach(sec => {
            sec.items.forEach(it => {
              const card = document.createElement('div');
              card.className = 'grid-item';
              const a = document.createElement('a');
              a.href = it.url;
              a.target = '_blank';
              a.textContent = `${sec.region} â€“ ${it.name}`;
              card.appendChild(a);
              fragment.appendChild(card);
            });
          });
          authGrid.appendChild(fragment);
        })
        .catch(console.error);
    }
  </script>
</body>
</html>
